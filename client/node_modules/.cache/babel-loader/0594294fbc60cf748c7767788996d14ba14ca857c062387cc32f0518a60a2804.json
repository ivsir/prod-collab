{"ast":null,"code":"var _jsxFileName = \"/Users/risvitareq/code/prod-collab2/client/src/components/accountBox/ProfileCard.js\",\n  _s = $RefreshSig$();\nimport { Box, Button, CircularProgress, Image, Input, SimpleGrid, Text } from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { ProfileContainer } from \"./Common.js\";\nimport { QUERY_USER, QUERY_PROJECTS } from \"../../utils/queries\";\nimport { useQuery } from \"@apollo/client\";\nimport AuthService from \"../../utils/auth\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProfileCard(props) {\n  _s();\n  // const [projectList, setProjectList] = useState('');\n  const {\n    loading,\n    data: userData\n  } = useQuery(QUERY_USER, {\n    variables: {\n      username: AuthService.getUsername()\n    }\n  });\n  const {\n    data: projectData\n  } = useQuery(QUERY_PROJECTS);\n  const projects = (userData === null || userData === void 0 ? void 0 : userData.user.projects) || [];\n  // setProjectList(projects);\n\n  if (loading && !userData && (userData === null || userData === void 0 ? void 0 : userData.length) <= 0 && !projectData) {\n    return;\n  }\n  const findTargetProjects = () => {\n    if (!projectData) {\n      return;\n    }\n    const allProjects = projectData.projects;\n    const userId = AuthService.getId();\n    const final = allProjects.filter(project => {\n      const members = project.projectMembers;\n      return members.some(member => member.memberId === userId);\n    }).map((project, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explore__card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explore__card__title\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"project__title\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/projects/${project._id}`,\n            children: [\"Project Title: \", project.projectTitle]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explore__card__content\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"project__author\",\n          children: [\"Project Description: \", project.projectDescription]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this));\n    return final;\n  };\n  const renderProjects = () => {\n    let result = null;\n    if (projects) {\n      result = projects.map((project, i) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"explore__card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"explore__card__title\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"project__title\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/projects/${project._id}`,\n                children: [\"Project Title: \", project.projectTitle]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"explore__card__content\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"project__author\",\n              children: [\"Project Description: \", project.projectDescription]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this);\n      });\n    }\n    return result;\n  };\n  return /*#__PURE__*/_jsxDEV(ProfileContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/projectform\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page__title\",\n        children: \"My Projects\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"profile-button content\",\n          children: \"Create a new project\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), renderProjects(), findTargetProjects()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n_s(ProfileCard, \"thU7OxJHZ3V/CosXthte5XPfUro=\", false, function () {\n  return [useQuery, useQuery];\n});\n_c = ProfileCard;\nexport default ProfileCard;\nvar _c;\n$RefreshReg$(_c, \"ProfileCard\");","map":{"version":3,"names":["Box","Button","CircularProgress","Image","Input","SimpleGrid","Text","React","ProfileContainer","QUERY_USER","QUERY_PROJECTS","useQuery","AuthService","Link","jsxDEV","_jsxDEV","ProfileCard","props","_s","loading","data","userData","variables","username","getUsername","projectData","projects","user","length","findTargetProjects","allProjects","userId","getId","final","filter","project","members","projectMembers","some","member","memberId","map","index","className","children","to","_id","projectTitle","fileName","_jsxFileName","lineNumber","columnNumber","projectDescription","renderProjects","result","i","_c","$RefreshReg$"],"sources":["/Users/risvitareq/code/prod-collab2/client/src/components/accountBox/ProfileCard.js"],"sourcesContent":["\n\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Image,\n  Input,\n  SimpleGrid,\n  Text,\n} from \"@chakra-ui/react\";\nimport React from \"react\";\nimport {ProfileContainer} from \"./Common.js\"\nimport { QUERY_USER, QUERY_PROJECTS } from \"../../utils/queries\";\nimport { useQuery } from \"@apollo/client\";\nimport AuthService from \"../../utils/auth\";\nimport { Link } from \"react-router-dom\";\n\nfunction ProfileCard(props) {\n  // const [projectList, setProjectList] = useState('');\n  const { loading, data: userData } = useQuery(QUERY_USER, {\n    variables: { username: AuthService.getUsername() },\n  });\n\n  const { data: projectData } = useQuery(QUERY_PROJECTS);\n\n  const projects = userData?.user.projects || [];\n  // setProjectList(projects);\n\n  if (loading && !userData && userData?.length <= 0 && !projectData) {\n    return;\n  }\n\n  const findTargetProjects = () => {\n    if (!projectData) {\n      return;\n    }\n\n    const allProjects = projectData.projects;\n\n    const userId = AuthService.getId();\n\n    const final = allProjects\n      .filter((project) => {\n        const members = project.projectMembers;\n        return members.some((member) => member.memberId === userId);\n      })\n      .map((project, index) => (\n        <div key={index} className=\"explore__card\">\n          <div className=\"explore__card__title\">\n            <h3 className=\"project__title\">\n              <Link to={`/projects/${project._id}`}>\n                Project Title: {project.projectTitle}\n              </Link>\n            </h3>\n          </div>\n          <div className=\"explore__card__content\">\n            <h4 className=\"project__author\">\n              Project Description: {project.projectDescription}\n            </h4>\n          </div>\n        </div>\n      ));\n    return final;\n  };\n\n  const renderProjects = () => {\n    let result = null;\n\n    if (projects) {\n      result = projects.map((project, i) => {\n        return (\n          <div key={i} className=\"explore__card\">\n            <div className=\"explore__card__title\">\n              <h3 className=\"project__title\">\n                {/* <a href=\"projects/1234asdf\">Project TItle: blah</a> */}\n                <Link to={`/projects/${project._id}`}>\n                  Project Title: {project.projectTitle}\n                </Link>\n              </h3>\n            </div>\n            <div className=\"explore__card__content\">\n              <h4 className=\"project__author\">\n                Project Description: {project.projectDescription}\n              </h4>\n              {/* <button className=\"share-button\"> share your project</button> */}\n            </div>\n          </div>\n        );\n      });\n    }\n    return result;\n  };\n\n  return (\n    <ProfileContainer>\n      {/* <div className=\"profile-button\"><a href=\"projectform\">Create a Project</a></div> */}\n      <Link to=\"/projectform\">\n        <h1 className=\"page__title\">My Projects</h1>\n        <div className=\"btn-container\">\n          <button className=\"profile-button content\">\n            Create a new project\n          </button>\n        </div>\n      </Link>\n      {renderProjects()}\n      {findTargetProjects()}\n    </ProfileContainer>\n  );\n}\nexport default ProfileCard;\n"],"mappings":";;AAEA,SACEA,GAAG,EACHC,MAAM,EACNC,gBAAgB,EAChBC,KAAK,EACLC,KAAK,EACLC,UAAU,EACVC,IAAI,QACC,kBAAkB;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,gBAAgB,QAAO,aAAa;AAC5C,SAASC,UAAU,EAAEC,cAAc,QAAQ,qBAAqB;AAChE,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,OAAOC,WAAW,MAAM,kBAAkB;AAC1C,SAASC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,SAASC,WAAWA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC1B;EACA,MAAM;IAAEC,OAAO;IAAEC,IAAI,EAAEC;EAAS,CAAC,GAAGV,QAAQ,CAACF,UAAU,EAAE;IACvDa,SAAS,EAAE;MAAEC,QAAQ,EAAEX,WAAW,CAACY,WAAW;IAAG;EACnD,CAAC,CAAC;EAEF,MAAM;IAAEJ,IAAI,EAAEK;EAAY,CAAC,GAAGd,QAAQ,CAACD,cAAc,CAAC;EAEtD,MAAMgB,QAAQ,GAAG,CAAAL,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEM,IAAI,CAACD,QAAQ,KAAI,EAAE;EAC9C;;EAEA,IAAIP,OAAO,IAAI,CAACE,QAAQ,IAAI,CAAAA,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEO,MAAM,KAAI,CAAC,IAAI,CAACH,WAAW,EAAE;IACjE;EACF;EAEA,MAAMI,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI,CAACJ,WAAW,EAAE;MAChB;IACF;IAEA,MAAMK,WAAW,GAAGL,WAAW,CAACC,QAAQ;IAExC,MAAMK,MAAM,GAAGnB,WAAW,CAACoB,KAAK,EAAE;IAElC,MAAMC,KAAK,GAAGH,WAAW,CACtBI,MAAM,CAAEC,OAAO,IAAK;MACnB,MAAMC,OAAO,GAAGD,OAAO,CAACE,cAAc;MACtC,OAAOD,OAAO,CAACE,IAAI,CAAEC,MAAM,IAAKA,MAAM,CAACC,QAAQ,KAAKT,MAAM,CAAC;IAC7D,CAAC,CAAC,CACDU,GAAG,CAAC,CAACN,OAAO,EAAEO,KAAK,kBAClB3B,OAAA;MAAiB4B,SAAS,EAAC,eAAe;MAAAC,QAAA,gBACxC7B,OAAA;QAAK4B,SAAS,EAAC,sBAAsB;QAAAC,QAAA,eACnC7B,OAAA;UAAI4B,SAAS,EAAC,gBAAgB;UAAAC,QAAA,eAC5B7B,OAAA,CAACF,IAAI;YAACgC,EAAE,EAAG,aAAYV,OAAO,CAACW,GAAI,EAAE;YAAAF,QAAA,GAAC,iBACrB,EAACT,OAAO,CAACY,YAAY;UAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAC/B;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MACJ;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACD,eACNpC,OAAA;QAAK4B,SAAS,EAAC,wBAAwB;QAAAC,QAAA,eACrC7B,OAAA;UAAI4B,SAAS,EAAC,iBAAiB;UAAAC,QAAA,GAAC,uBACT,EAACT,OAAO,CAACiB,kBAAkB;QAAA;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAC7C;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACD;IAAA,GAZET,KAAK;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAchB,CAAC;IACJ,OAAOlB,KAAK;EACd,CAAC;EAED,MAAMoB,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAIC,MAAM,GAAG,IAAI;IAEjB,IAAI5B,QAAQ,EAAE;MACZ4B,MAAM,GAAG5B,QAAQ,CAACe,GAAG,CAAC,CAACN,OAAO,EAAEoB,CAAC,KAAK;QACpC,oBACExC,OAAA;UAAa4B,SAAS,EAAC,eAAe;UAAAC,QAAA,gBACpC7B,OAAA;YAAK4B,SAAS,EAAC,sBAAsB;YAAAC,QAAA,eACnC7B,OAAA;cAAI4B,SAAS,EAAC,gBAAgB;cAAAC,QAAA,eAE5B7B,OAAA,CAACF,IAAI;gBAACgC,EAAE,EAAG,aAAYV,OAAO,CAACW,GAAI,EAAE;gBAAAF,QAAA,GAAC,iBACrB,EAACT,OAAO,CAACY,YAAY;cAAA;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAC/B;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UACJ;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACD,eACNpC,OAAA;YAAK4B,SAAS,EAAC,wBAAwB;YAAAC,QAAA,eACrC7B,OAAA;cAAI4B,SAAS,EAAC,iBAAiB;cAAAC,QAAA,GAAC,uBACT,EAACT,OAAO,CAACiB,kBAAkB;YAAA;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAC7C;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAED;QAAA,GAdEI,CAAC;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAeL;MAEV,CAAC,CAAC;IACJ;IACA,OAAOG,MAAM;EACf,CAAC;EAED,oBACEvC,OAAA,CAACP,gBAAgB;IAAAoC,QAAA,gBAEf7B,OAAA,CAACF,IAAI;MAACgC,EAAE,EAAC,cAAc;MAAAD,QAAA,gBACrB7B,OAAA;QAAI4B,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAAW;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAK,eAC5CpC,OAAA;QAAK4B,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B7B,OAAA;UAAQ4B,SAAS,EAAC,wBAAwB;UAAAC,QAAA,EAAC;QAE3C;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAS;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACL;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACD,EACNE,cAAc,EAAE,EAChBxB,kBAAkB,EAAE;EAAA;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACJ;AAEvB;AAACjC,EAAA,CA3FQF,WAAW;EAAA,QAEkBL,QAAQ,EAIdA,QAAQ;AAAA;AAAA6C,EAAA,GAN/BxC,WAAW;AA4FpB,eAAeA,WAAW;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}