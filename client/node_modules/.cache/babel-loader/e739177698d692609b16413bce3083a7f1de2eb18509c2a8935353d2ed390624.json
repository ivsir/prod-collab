{"ast":null,"code":"import _regeneratorRuntime from\"/Users/risvitareq/code/prod-collab/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/risvitareq/code/prod-collab/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/risvitareq/code/prod-collab/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/risvitareq/code/prod-collab/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React from\"react\";// Import the `useParams()` hook\nimport{useParams}from\"react-router-dom\";import{useQuery,useMutation}from\"@apollo/client\";import AuthService from\"../../utils/auth\";import{useNavigate}from\"react-router-dom\";import{QUERY_SINGLE_PROJECT}from\"../../utils/queries\";import{ADD_MEMBER}from\"../../utils/mutations\";import styled from\"styled-components\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SinglePostContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  .single-post-container {\\n    border: 1px solid var(--color-light-blue);\\n    border-radius: 5px;\\n    padding: 4rem;\\n    margin: 4rem;\\n    display: flex;\\n    flex-direction: column;\\n    height: 100%;\\n  }\\n\\n  h2 {\\n    margin-left: 1rem;\\n    font-size: 1.5rem;\\n    font-family: montserrat;\\n    font-weight: bold;\\n    color: var(--color-yellow);\\n  }\\n\\n  h3 {\\n    margin-left: 2rem;\\n    font-size: 1rem;\\n    font-weight: bold;\\n    color: var(--color-light-blue);\\n    font-style: italic;\\n    font-family: montserrat;\\n  }\\n\\n  p {\\n    font-size: 2rem;\\n    color: var(--color-yellow);\\n  }\\n\\n  .blockquote-container {\\n    flex: 1; /* set to 1 to fill remaining space */\\n    border: 1px solid var(--color-yellow);\\n    border-radius: 5px;\\n    padding: 1rem;\\n    margin: 1rem;\\n    background-color: var(--color-dark-blue);\\n    overflow: auto;\\n  }\\n\\n  blockquote {\\n    font-size: 1rem;\\n    font-family: montserrat;\\n    color: var(--color-yellow);\\n    border: none;\\n    padding: 0.5rem;\\n    overflow: auto;\\n    max-height: 100%;\\n    white-space: pre-wrap;\\n    padding: 1rem;\\n  }\\n\\n  .button-container {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    margin-top: 20px;\\n  }\\n\\n  button {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    font-family: montserrat;\\n    width: 200px;\\n    color: var(--color-dark-blue);\\n    font-size: 1.4rem;\\n    font-weight: bold;\\n    padding: 10px;\\n    padding-top: 7px;\\n    transition: 0.5s;\\n    cursor: pointer;\\n    border-radius: 0.5rem;\\n    border: none;\\n    background: var(--color-yellow);\\n    margin-top: 20px;\\n    margin-bottom: 25px;\\n    box-shadow: 0px 7px 0px 0px #cf920d;\\n  }\\n\\n  button:hover {\\n    box-shadow: none;\\n    transform: translateY(5px);\\n    transition: all 0.1s linear;\\n  }\\n\\n  button:focus {\\n    outline: none;\\n  }\\n  .link-button-wrapper {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    margin-top: 20px;\\n    text-decoration: none;\\n    font-family: \\\"Courier Prime\\\", monospace;\\n  }\\n\"])));var SingleProject=function SingleProject(){var _useMutation=useMutation(ADD_MEMBER),_useMutation2=_slicedToArray(_useMutation,2),member=_useMutation2[0],_useMutation2$=_useMutation2[1],error=_useMutation2$.error,dataMember=_useMutation2$.dataMember;// Use `useParams()` to retrieve value of the route parameter `:profileId`\nvar _useParams=useParams(),projectId=_useParams.projectId;var navigate=useNavigate();var onJoin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var memberId,_yield$member,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();memberId=AuthService.getId();_context.prev=2;_context.next=5;return member({variables:{projectId:projectId,memberId:memberId}});case 5:_yield$member=_context.sent;_data=_yield$member.data;console.log(project);navigate(\"/comments\",{state:{projectId:projectId,memberId:memberId,projects:project}});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,11]]);}));return function onJoin(_x){return _ref.apply(this,arguments);};}();var _useQuery=useQuery(QUERY_SINGLE_PROJECT,{// pass URL parameter\nvariables:{projectId:projectId}}),loading=_useQuery.loading,data=_useQuery.data;// console.log(data);\nvar project=(data===null||data===void 0?void 0:data.project)||{};// console.log(project);\nif(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(SinglePostContainer,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-3 single-post-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"card-header bg-dark text-light p-2 m-0\",children:[project.projectTitle,\" \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"card-header bg-dark text-light p-2 m-0\",children:[project.projectAuthor,\" created this project on \",project.createdAt]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-light py-4 blockquote-container\",children:/*#__PURE__*/_jsx(\"blockquote\",{className:\"p-4\",style:{fontSize:\"1.5rem\",fontStyle:\"italic\",lineHeight:\"1.5\",overflow:\"auto\"},children:project.projectDescription})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"link-button-wrapper\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onJoin,className:\"profile-button content\",children:\"Join project\"})})]});};export default SingleProject;","map":{"version":3,"names":["React","useParams","useQuery","useMutation","AuthService","useNavigate","QUERY_SINGLE_PROJECT","ADD_MEMBER","styled","Link","jsx","_jsx","jsxs","_jsxs","SinglePostContainer","div","_templateObject","_taggedTemplateLiteral","SingleProject","_useMutation","_useMutation2","_slicedToArray","member","_useMutation2$","error","dataMember","_useParams","projectId","navigate","onJoin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","memberId","_yield$member","_data","wrap","_callee$","_context","prev","next","preventDefault","getId","variables","sent","data","console","log","project","state","projects","t0","stop","_x","apply","arguments","_useQuery","loading","children","className","projectTitle","projectAuthor","createdAt","style","fontSize","fontStyle","lineHeight","overflow","projectDescription","onClick"],"sources":["/Users/risvitareq/code/prod-collab/client/src/components/accountBox/SingleProject.js"],"sourcesContent":["import React from \"react\";\n// Import the `useParams()` hook\nimport { useParams } from \"react-router-dom\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport AuthService from \"../../utils/auth\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { QUERY_SINGLE_PROJECT } from \"../../utils/queries\";\nimport { ADD_MEMBER } from \"../../utils/mutations\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nconst SinglePostContainer = styled.div`\n  .single-post-container {\n    border: 1px solid var(--color-light-blue);\n    border-radius: 5px;\n    padding: 4rem;\n    margin: 4rem;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n\n  h2 {\n    margin-left: 1rem;\n    font-size: 1.5rem;\n    font-family: montserrat;\n    font-weight: bold;\n    color: var(--color-yellow);\n  }\n\n  h3 {\n    margin-left: 2rem;\n    font-size: 1rem;\n    font-weight: bold;\n    color: var(--color-light-blue);\n    font-style: italic;\n    font-family: montserrat;\n  }\n\n  p {\n    font-size: 2rem;\n    color: var(--color-yellow);\n  }\n\n  .blockquote-container {\n    flex: 1; /* set to 1 to fill remaining space */\n    border: 1px solid var(--color-yellow);\n    border-radius: 5px;\n    padding: 1rem;\n    margin: 1rem;\n    background-color: var(--color-dark-blue);\n    overflow: auto;\n  }\n\n  blockquote {\n    font-size: 1rem;\n    font-family: montserrat;\n    color: var(--color-yellow);\n    border: none;\n    padding: 0.5rem;\n    overflow: auto;\n    max-height: 100%;\n    white-space: pre-wrap;\n    padding: 1rem;\n  }\n\n  .button-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 20px;\n  }\n\n  button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-family: montserrat;\n    width: 200px;\n    color: var(--color-dark-blue);\n    font-size: 1.4rem;\n    font-weight: bold;\n    padding: 10px;\n    padding-top: 7px;\n    transition: 0.5s;\n    cursor: pointer;\n    border-radius: 0.5rem;\n    border: none;\n    background: var(--color-yellow);\n    margin-top: 20px;\n    margin-bottom: 25px;\n    box-shadow: 0px 7px 0px 0px #cf920d;\n  }\n\n  button:hover {\n    box-shadow: none;\n    transform: translateY(5px);\n    transition: all 0.1s linear;\n  }\n\n  button:focus {\n    outline: none;\n  }\n  .link-button-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 20px;\n    text-decoration: none;\n    font-family: \"Courier Prime\", monospace;\n  }\n`;\n\nconst SingleProject = () => {\n  const [member, { error, dataMember }] = useMutation(ADD_MEMBER);\n  // Use `useParams()` to retrieve value of the route parameter `:profileId`\n  const { projectId } = useParams();\n  const navigate = useNavigate();\n\n  const onJoin = async (event) => {\n    event.preventDefault();\n    const memberId = AuthService.getId();\n\n    try {\n      const { data } = await member({\n        variables: {\n          projectId: projectId,\n          memberId: memberId,\n        },\n      });\n      console.log(project);\n      navigate(\"/comments\", {\n        state: {\n          projectId: projectId,\n          memberId: memberId,\n          projects: project,\n        },\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const { loading, data } = useQuery(QUERY_SINGLE_PROJECT, {\n    // pass URL parameter\n    variables: { projectId: projectId },\n  });\n\n  // console.log(data);\n  const project = data?.project || {};\n\n  // console.log(project);\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <SinglePostContainer>\n      <div className=\"my-3 single-post-container\">\n        <h2 className=\"card-header bg-dark text-light p-2 m-0\">\n          {project.projectTitle} <br />\n        </h2>\n        <h3 className=\"card-header bg-dark text-light p-2 m-0\">\n          {project.projectAuthor} created this project on {project.createdAt}\n        </h3>\n        <div className=\"bg-light py-4 blockquote-container\">\n          <blockquote\n            className=\"p-4\"\n            style={{\n              fontSize: \"1.5rem\",\n              fontStyle: \"italic\",\n              lineHeight: \"1.5\",\n              overflow: \"auto\",\n            }}\n          >\n            {project.projectDescription}\n          </blockquote>\n        </div>\n      </div>\n      <div className=\"link-button-wrapper\">\n        <button onClick={onJoin} className=\"profile-button content\">\n          Join project\n        </button>\n      </div>\n    </SinglePostContainer>\n  );\n};\n\nexport default SingleProject;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}