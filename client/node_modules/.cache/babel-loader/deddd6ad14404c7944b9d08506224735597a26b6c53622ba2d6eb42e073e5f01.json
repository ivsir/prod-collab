{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/risvitareq/code/prod-collab/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React from\"react\";import styled from\"styled-components\";import{QUERY_USER,QUERY_PROJECTS}from\"../../utils/queries\";import{useQuery}from\"@apollo/client\";import AuthService from\"../../utils/auth\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProfileContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  .ExploreContainer {\\n    display: grid;\\n    grid-template-columns: repeat(auto-fit, minmax(25rem, 1fr));\\n    justify-content: center;\\n  }\\n\\n  .explore__card {\\n    position: relative;\\n    background-color: var(--color-dark-blue);\\n    margin: 1rem;\\n    padding: 1rem 2rem;\\n    box-shadow: 0 0 0.5rem var(--color-dark-blue);\\n    border-radius: 1rem;\\n    max-width: 100vw;\\n    min-height: 132px;\\n    max-height: 15vh;\\n    transition: 0.2s ease-in-out;\\n  }\\n\\n  .explore__card:hover {\\n    box-shadow: 0 0 0.5rem var(--color-light-blue);\\n  }\\n\\n  h1 {\\n    font-family: montserrat;\\n    font-size: 2rem;\\n    color: var(--color-yellow);\\n    text-shadow: 0.1rem 0.1rem 0.25rem var(--color-bg);\\n    text-align: center;\\n    margin: 1rem;\\n  }\\n\\n  .project__title {\\n    margin-top: 0.8rem;\\n    color: var(--color-yellow);\\n    text-shadow: 0.1rem 0.1rem 0.25rem var(--color-bg);\\n    font-size: 1.5rem;\\n    font-family: montserrat;\\n    text-decoration: none;\\n  }\\n\\n  .project__title a {\\n    color: var(--color-yellow);\\n    text-shadow: 0.1rem 0.1rem 0.25rem var(--color-bg);\\n    font-size: 1.5rem;\\n    font-family: montserrat;\\n    text-decoration: none;\\n  }\\n\\n  .project__title a:hover {\\n    text-shadow: 0.15rem 0.15rem 0.5rem var(--color-black);\\n  }\\n\\n  .project__author {\\n    padding: 1rem 0 0 0.5rem;\\n    color: var(--color-bg);\\n    font-size: 1.1rem;\\n    font-family: montserrat;\\n  }\\n\\n  .btn-container a {\\n    display: flex;\\n    justify-content: center;\\n    text-decoration: none;\\n  }\\n\\n  .profile-button {\\n    align: center;\\n    cursor: pointer;\\n    border-radius: 0.5rem;\\n    border: none;\\n    background: var(--color-yellow);\\n    font-family: montserrat;\\n    box-shadow: 0 0.5rem 0 0 #cf920d;\\n    margin: 1rem 1.4rem;\\n    color: var(--color-dark-blue);\\n    font-weight: 600;\\n    text-decoration: none;\\n    font-size: 1.4rem;\\n    padding: 0.8rem;\\n    transition: 0.5s;\\n  }\\n\\n  button:hover {\\n    box-shadow: none;\\n    transform: translateY(5px);\\n    transition: all 0.1s linear;\\n  }\\n\\n  button:focus {\\n    outline: none;\\n    text-decoration: none;\\n  }\\n\"])));function ProfileCard(props){// const [projectList, setProjectList] = useState('');\nvar _useQuery=useQuery(QUERY_USER,{variables:{username:AuthService.getUsername()}}),loading=_useQuery.loading,userData=_useQuery.data;var _useQuery2=useQuery(QUERY_PROJECTS),projectData=_useQuery2.data;var projects=(userData===null||userData===void 0?void 0:userData.user.projects)||[];// setProjectList(projects);\nif(loading&&!userData&&(userData===null||userData===void 0?void 0:userData.length)<=0&&!projectData){return;}var findTargetProjects=function findTargetProjects(){if(!projectData){return;}var allProjects=projectData.projects;var userId=AuthService.getId();var final=allProjects.filter(function(project){var members=project.projectMembers;return members.some(function(member){return member.memberId===userId;});}).map(function(project,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"explore__card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"explore__card__title\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"project__title\",children:/*#__PURE__*/_jsxs(Link,{to:\"/projects/\".concat(project._id),children:[\"Project Title: \",project.projectTitle]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"explore__card__content\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"project__author\",children:[\"Project Description: \",project.projectDescription]})})]},index);});return final;};var renderProjects=function renderProjects(){var result=null;if(projects){result=projects.map(function(project,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"explore__card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"explore__card__title\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"project__title\",children:/*#__PURE__*/_jsxs(Link,{to:\"/projects/\".concat(project._id),children:[\"Project Title: \",project.projectTitle]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"explore__card__content\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"project__author\",children:[\"Project Description: \",project.projectDescription]})})]},i);});}return result;};return/*#__PURE__*/_jsxs(ProfileContainer,{children:[/*#__PURE__*/_jsxs(Link,{to:\"/projectform\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page__title\",children:\"My Projects\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"profile-button content\",children:\"Create a new project\"})})]}),renderProjects(),findTargetProjects()]});}export default ProfileCard;","map":{"version":3,"names":["React","styled","QUERY_USER","QUERY_PROJECTS","useQuery","AuthService","Link","jsxs","_jsxs","jsx","_jsx","ProfileContainer","div","_templateObject","_taggedTemplateLiteral","ProfileCard","props","_useQuery","variables","username","getUsername","loading","userData","data","_useQuery2","projectData","projects","user","length","findTargetProjects","allProjects","userId","getId","final","filter","project","members","projectMembers","some","member","memberId","map","index","className","children","to","concat","_id","projectTitle","projectDescription","renderProjects","result","i"],"sources":["/Users/risvitareq/code/prod-collab/client/src/components/accountBox/ProfileCard.js"],"sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { QUERY_USER, QUERY_PROJECTS } from \"../../utils/queries\";\nimport { useQuery } from \"@apollo/client\";\nimport AuthService from \"../../utils/auth\";\nimport { Link } from \"react-router-dom\";\n\nconst ProfileContainer = styled.div`\n  .ExploreContainer {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(25rem, 1fr));\n    justify-content: center;\n  }\n\n  .explore__card {\n    position: relative;\n    background-color: var(--color-dark-blue);\n    margin: 1rem;\n    padding: 1rem 2rem;\n    box-shadow: 0 0 0.5rem var(--color-dark-blue);\n    border-radius: 1rem;\n    max-width: 100vw;\n    min-height: 132px;\n    max-height: 15vh;\n    transition: 0.2s ease-in-out;\n  }\n\n  .explore__card:hover {\n    box-shadow: 0 0 0.5rem var(--color-light-blue);\n  }\n\n  h1 {\n    font-family: montserrat;\n    font-size: 2rem;\n    color: var(--color-yellow);\n    text-shadow: 0.1rem 0.1rem 0.25rem var(--color-bg);\n    text-align: center;\n    margin: 1rem;\n  }\n\n  .project__title {\n    margin-top: 0.8rem;\n    color: var(--color-yellow);\n    text-shadow: 0.1rem 0.1rem 0.25rem var(--color-bg);\n    font-size: 1.5rem;\n    font-family: montserrat;\n    text-decoration: none;\n  }\n\n  .project__title a {\n    color: var(--color-yellow);\n    text-shadow: 0.1rem 0.1rem 0.25rem var(--color-bg);\n    font-size: 1.5rem;\n    font-family: montserrat;\n    text-decoration: none;\n  }\n\n  .project__title a:hover {\n    text-shadow: 0.15rem 0.15rem 0.5rem var(--color-black);\n  }\n\n  .project__author {\n    padding: 1rem 0 0 0.5rem;\n    color: var(--color-bg);\n    font-size: 1.1rem;\n    font-family: montserrat;\n  }\n\n  .btn-container a {\n    display: flex;\n    justify-content: center;\n    text-decoration: none;\n  }\n\n  .profile-button {\n    align: center;\n    cursor: pointer;\n    border-radius: 0.5rem;\n    border: none;\n    background: var(--color-yellow);\n    font-family: montserrat;\n    box-shadow: 0 0.5rem 0 0 #cf920d;\n    margin: 1rem 1.4rem;\n    color: var(--color-dark-blue);\n    font-weight: 600;\n    text-decoration: none;\n    font-size: 1.4rem;\n    padding: 0.8rem;\n    transition: 0.5s;\n  }\n\n  button:hover {\n    box-shadow: none;\n    transform: translateY(5px);\n    transition: all 0.1s linear;\n  }\n\n  button:focus {\n    outline: none;\n    text-decoration: none;\n  }\n`;\n\nfunction ProfileCard(props) {\n  // const [projectList, setProjectList] = useState('');\n  const { loading, data: userData } = useQuery(QUERY_USER, {\n    variables: { username: AuthService.getUsername() },\n  });\n\n  const { data: projectData } = useQuery(QUERY_PROJECTS);\n\n  const projects = userData?.user.projects || [];\n  // setProjectList(projects);\n\n  if (loading && !userData && userData?.length <= 0 && !projectData) {\n    return;\n  }\n\n  const findTargetProjects = () => {\n    if (!projectData) {\n      return;\n    }\n\n    const allProjects = projectData.projects;\n\n    const userId = AuthService.getId();\n\n    const final = allProjects\n      .filter((project) => {\n        const members = project.projectMembers;\n        return members.some((member) => member.memberId === userId);\n      })\n      .map((project, index) => (\n        <div key={index} className=\"explore__card\">\n          <div className=\"explore__card__title\">\n            <h3 className=\"project__title\">\n              <Link to={`/projects/${project._id}`}>\n                Project Title: {project.projectTitle}\n              </Link>\n            </h3>\n          </div>\n          <div className=\"explore__card__content\">\n            <h4 className=\"project__author\">\n              Project Description: {project.projectDescription}\n            </h4>\n          </div>\n        </div>\n      ));\n    return final;\n  };\n\n  const renderProjects = () => {\n    let result = null;\n\n    if (projects) {\n      result = projects.map((project, i) => {\n        return (\n          <div key={i} className=\"explore__card\">\n            <div className=\"explore__card__title\">\n              <h3 className=\"project__title\">\n                {/* <a href=\"projects/1234asdf\">Project TItle: blah</a> */}\n                <Link to={`/projects/${project._id}`}>\n                  Project Title: {project.projectTitle}\n                </Link>\n              </h3>\n            </div>\n            <div className=\"explore__card__content\">\n              <h4 className=\"project__author\">\n                Project Description: {project.projectDescription}\n              </h4>\n              {/* <button className=\"share-button\"> share your project</button> */}\n            </div>\n          </div>\n        );\n      });\n    }\n    return result;\n  };\n\n  return (\n    <ProfileContainer>\n      {/* <div className=\"profile-button\"><a href=\"projectform\">Create a Project</a></div> */}\n      <Link to=\"/projectform\">\n        <h1 className=\"page__title\">My Projects</h1>\n        <div className=\"btn-container\">\n          <button className=\"profile-button content\">\n            Create a new project\n          </button>\n        </div>\n      </Link>\n      {renderProjects()}\n      {findTargetProjects()}\n    </ProfileContainer>\n  );\n}\nexport default ProfileCard;\n"],"mappings":"mKAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,UAAU,CAAEC,cAAc,KAAQ,qBAAqB,CAChE,OAASC,QAAQ,KAAQ,gBAAgB,CACzC,MAAO,CAAAC,WAAW,KAAM,kBAAkB,CAC1C,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAExC,GAAM,CAAAC,gBAAgB,CAAGV,MAAM,CAACW,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,ulEA8FlC,CAED,QAAS,CAAAC,WAAWA,CAACC,KAAK,CAAE,CAC1B;AACA,IAAAC,SAAA,CAAoCb,QAAQ,CAACF,UAAU,CAAE,CACvDgB,SAAS,CAAE,CAAEC,QAAQ,CAAEd,WAAW,CAACe,WAAW,EAAG,CACnD,CAAC,CAAC,CAFMC,OAAO,CAAAJ,SAAA,CAAPI,OAAO,CAAQC,QAAQ,CAAAL,SAAA,CAAdM,IAAI,CAIrB,IAAAC,UAAA,CAA8BpB,QAAQ,CAACD,cAAc,CAAC,CAAxCsB,WAAW,CAAAD,UAAA,CAAjBD,IAAI,CAEZ,GAAM,CAAAG,QAAQ,CAAG,CAAAJ,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEK,IAAI,CAACD,QAAQ,GAAI,EAAE,CAC9C;AAEA,GAAIL,OAAO,EAAI,CAACC,QAAQ,EAAI,CAAAA,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEM,MAAM,GAAI,CAAC,EAAI,CAACH,WAAW,CAAE,CACjE,OACF,CAEA,GAAM,CAAAI,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC/B,GAAI,CAACJ,WAAW,CAAE,CAChB,OACF,CAEA,GAAM,CAAAK,WAAW,CAAGL,WAAW,CAACC,QAAQ,CAExC,GAAM,CAAAK,MAAM,CAAG1B,WAAW,CAAC2B,KAAK,EAAE,CAElC,GAAM,CAAAC,KAAK,CAAGH,WAAW,CACtBI,MAAM,CAAC,SAACC,OAAO,CAAK,CACnB,GAAM,CAAAC,OAAO,CAAGD,OAAO,CAACE,cAAc,CACtC,MAAO,CAAAD,OAAO,CAACE,IAAI,CAAC,SAACC,MAAM,QAAK,CAAAA,MAAM,CAACC,QAAQ,GAAKT,MAAM,GAAC,CAC7D,CAAC,CAAC,CACDU,GAAG,CAAC,SAACN,OAAO,CAAEO,KAAK,qBAClBlC,KAAA,QAAiBmC,SAAS,CAAC,eAAe,CAAAC,QAAA,eACxClC,IAAA,QAAKiC,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnClC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC5BpC,KAAA,CAACF,IAAI,EAACuC,EAAE,cAAAC,MAAA,CAAeX,OAAO,CAACY,GAAG,CAAG,CAAAH,QAAA,EAAC,iBACrB,CAACT,OAAO,CAACa,YAAY,GAC/B,EACJ,EACD,cACNtC,IAAA,QAAKiC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCpC,KAAA,OAAImC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAAC,uBACT,CAACT,OAAO,CAACc,kBAAkB,GAC7C,EACD,GAZEP,KAAK,CAaT,EACP,CAAC,CACJ,MAAO,CAAAT,KAAK,CACd,CAAC,CAED,GAAM,CAAAiB,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B,GAAI,CAAAC,MAAM,CAAG,IAAI,CAEjB,GAAIzB,QAAQ,CAAE,CACZyB,MAAM,CAAGzB,QAAQ,CAACe,GAAG,CAAC,SAACN,OAAO,CAAEiB,CAAC,CAAK,CACpC,mBACE5C,KAAA,QAAamC,SAAS,CAAC,eAAe,CAAAC,QAAA,eACpClC,IAAA,QAAKiC,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnClC,IAAA,OAAIiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAE5BpC,KAAA,CAACF,IAAI,EAACuC,EAAE,cAAAC,MAAA,CAAeX,OAAO,CAACY,GAAG,CAAG,CAAAH,QAAA,EAAC,iBACrB,CAACT,OAAO,CAACa,YAAY,GAC/B,EACJ,EACD,cACNtC,IAAA,QAAKiC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCpC,KAAA,OAAImC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAAC,uBACT,CAACT,OAAO,CAACc,kBAAkB,GAC7C,EAED,GAdEG,CAAC,CAeL,CAEV,CAAC,CAAC,CACJ,CACA,MAAO,CAAAD,MAAM,CACf,CAAC,CAED,mBACE3C,KAAA,CAACG,gBAAgB,EAAAiC,QAAA,eAEfpC,KAAA,CAACF,IAAI,EAACuC,EAAE,CAAC,cAAc,CAAAD,QAAA,eACrBlC,IAAA,OAAIiC,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,aAAW,EAAK,cAC5ClC,IAAA,QAAKiC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BlC,IAAA,WAAQiC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,sBAE3C,EAAS,EACL,GACD,CACNM,cAAc,EAAE,CAChBrB,kBAAkB,EAAE,GACJ,CAEvB,CACA,cAAe,CAAAd,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}