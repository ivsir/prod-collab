{"ast":null,"code":"import { EventStreamCodec, MessageDecoderStream, MessageEncoderStream, SmithyMessageDecoderStream, SmithyMessageEncoderStream } from \"@smithy/eventstream-codec\";\nimport { getChunkedStream } from \"./getChunkedStream\";\nimport { getMessageUnmarshaller } from \"./getUnmarshalledStream\";\nexport class EventStreamMarshaller {\n  constructor(_ref) {\n    let {\n      utf8Encoder,\n      utf8Decoder\n    } = _ref;\n    this.eventStreamCodec = new EventStreamCodec(utf8Encoder, utf8Decoder);\n    this.utfEncoder = utf8Encoder;\n  }\n  deserialize(body, deserializer) {\n    const inputStream = getChunkedStream(body);\n    return new SmithyMessageDecoderStream({\n      messageStream: new MessageDecoderStream({\n        inputStream,\n        decoder: this.eventStreamCodec\n      }),\n      deserializer: getMessageUnmarshaller(deserializer, this.utfEncoder)\n    });\n  }\n  serialize(inputStream, serializer) {\n    return new MessageEncoderStream({\n      messageStream: new SmithyMessageEncoderStream({\n        inputStream,\n        serializer\n      }),\n      encoder: this.eventStreamCodec,\n      includeEndFrame: true\n    });\n  }\n}","map":{"version":3,"names":["EventStreamCodec","MessageDecoderStream","MessageEncoderStream","SmithyMessageDecoderStream","SmithyMessageEncoderStream","getChunkedStream","getMessageUnmarshaller","EventStreamMarshaller","constructor","_ref","utf8Encoder","utf8Decoder","eventStreamCodec","utfEncoder","deserialize","body","deserializer","inputStream","messageStream","decoder","serialize","serializer","encoder","includeEndFrame"],"sources":["/Users/risvitareq/code/prod-collab2/client/node_modules/@smithy/eventstream-serde-universal/dist-es/EventStreamMarshaller.js"],"sourcesContent":["import { EventStreamCodec, MessageDecoderStream, MessageEncoderStream, SmithyMessageDecoderStream, SmithyMessageEncoderStream, } from \"@smithy/eventstream-codec\";\nimport { getChunkedStream } from \"./getChunkedStream\";\nimport { getMessageUnmarshaller } from \"./getUnmarshalledStream\";\nexport class EventStreamMarshaller {\n    constructor({ utf8Encoder, utf8Decoder }) {\n        this.eventStreamCodec = new EventStreamCodec(utf8Encoder, utf8Decoder);\n        this.utfEncoder = utf8Encoder;\n    }\n    deserialize(body, deserializer) {\n        const inputStream = getChunkedStream(body);\n        return new SmithyMessageDecoderStream({\n            messageStream: new MessageDecoderStream({ inputStream, decoder: this.eventStreamCodec }),\n            deserializer: getMessageUnmarshaller(deserializer, this.utfEncoder),\n        });\n    }\n    serialize(inputStream, serializer) {\n        return new MessageEncoderStream({\n            messageStream: new SmithyMessageEncoderStream({ inputStream, serializer }),\n            encoder: this.eventStreamCodec,\n            includeEndFrame: true,\n        });\n    }\n}\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,oBAAoB,EAAEC,oBAAoB,EAAEC,0BAA0B,EAAEC,0BAA0B,QAAS,2BAA2B;AACjK,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,SAASC,sBAAsB,QAAQ,yBAAyB;AAChE,OAAO,MAAMC,qBAAqB,CAAC;EAC/BC,WAAWA,CAAAC,IAAA,EAA+B;IAAA,IAA9B;MAAEC,WAAW;MAAEC;IAAY,CAAC,GAAAF,IAAA;IACpC,IAAI,CAACG,gBAAgB,GAAG,IAAIZ,gBAAgB,CAACU,WAAW,EAAEC,WAAW,CAAC;IACtE,IAAI,CAACE,UAAU,GAAGH,WAAW;EACjC;EACAI,WAAWA,CAACC,IAAI,EAAEC,YAAY,EAAE;IAC5B,MAAMC,WAAW,GAAGZ,gBAAgB,CAACU,IAAI,CAAC;IAC1C,OAAO,IAAIZ,0BAA0B,CAAC;MAClCe,aAAa,EAAE,IAAIjB,oBAAoB,CAAC;QAAEgB,WAAW;QAAEE,OAAO,EAAE,IAAI,CAACP;MAAiB,CAAC,CAAC;MACxFI,YAAY,EAAEV,sBAAsB,CAACU,YAAY,EAAE,IAAI,CAACH,UAAU;IACtE,CAAC,CAAC;EACN;EACAO,SAASA,CAACH,WAAW,EAAEI,UAAU,EAAE;IAC/B,OAAO,IAAInB,oBAAoB,CAAC;MAC5BgB,aAAa,EAAE,IAAId,0BAA0B,CAAC;QAAEa,WAAW;QAAEI;MAAW,CAAC,CAAC;MAC1EC,OAAO,EAAE,IAAI,CAACV,gBAAgB;MAC9BW,eAAe,EAAE;IACrB,CAAC,CAAC;EACN;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}